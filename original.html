<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- <link rel="shortcut icon" href="./favicon.ico" /> -->

  <title>TESTING</title>

  <style>
    div {
      float: left;
    }

    input:not(#url) {
      width: 5ex;
    }

    hr {
      visibility: hidden;
      float: none;
      clear: both;
    }
  </style>
</head>

<body>

<h1>
  URL:
  <input type="text" id="url" value="/unprocessed" />
  <button id="destination" onClick="updateIframeSrcs()">Go</button>
</h1>

<hr />

<div>
  <h2>iPhone 6 [P]<small>(375 x 667)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="375" height="667"></iframe>
</div>
<div>
  <h2>iPhone 5 [P]<small>(320 x 568)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="320" height="568"></iframe>
</div>
<div>
  <h2>&lt; XS <small>(320 x 527)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="320" height="527"></iframe>
</div>
<div>
  <h2>Tiny <small>(320 x 480)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="320" height="480"></iframe>
</div>

<hr />


<div>
  <h2>iPhone X [P] <small>(375 x 812)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="375" height="812"></iframe>
</div>

<div>
  <h2>iPhone X [L] <small>(812 x 375)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="812" height="375"></iframe>
</div>

<div>
  <h2>iPhone 6 [L]<small>(667 x 375)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="667" height="375"></iframe>
</div>

<div>
  <h2>iPhone 5 [L]<small>(568 x 320)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="568" height="320"></iframe>
</div>

<hr />

<div>
  <h2>
    Flexible 1
    <small>
      (
      <input type="text" id="width" value="375" />
      x
      <input type="text" id="height" value="667" />
      <button id="dimensions" onclick="updateIframeDimensions()">Update</button>
      )
    </small>
  </h2>
  <iframe src="http://127.0.0.1:4001" width="375" height="667" id="flexible"></iframe>
</div>

<div>
  <h2>
    Flexible 2
    <small>
      (
      <input type="text" id="width" value="320" />
      x
      <input type="text" id="height" value="567" />
      <button id="dimensions" onclick="updateIframeDimensions()">Update</button>
      )
    </small>
  </h2>
  <iframe src="http://127.0.0.1:4001" width="320" height="567" id="flexible"></iframe>
</div>

<hr />

<div>
  <h2>Large <small>(767 x 569)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="767" height="569"></iframe>
</div>

<div>
  <h2>iPad <small>(768 x 1024)</small></h2>
  <iframe src="http://127.0.0.1:4001" width="768" height="1024"></iframe>
</div>


<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script> -->
<script>
var PORT = "4001";

function setIframeSrcs(src) {
  var iframes = document.getElementsByTagName("iframe");
  for(var i = 0; i < iframes.length; i++) {
    var iframe = iframes[i];
    iframe.setAttribute("src", src);
  }
}

function updateIframeSrcs() {
  var url = document.getElementById("url");
  var src = "http://127.0.0.1:" + PORT + url.value;

  console.log("Updating iframe srcs to " + src);

  setIframeSrcs(src);
}

function updateIframeDimensions() {
  var iframe = document.getElementById("flexible");
  var width = document.getElementById("width");
  var height = document.getElementById("height");

  console.log("Updating iframe dimensions to " + width + " x " + height);

  iframe.setAttribute("width", width.value);
  iframe.setAttribute("height", height.value);
}

(function() {
  // var port = "4001";
  var defaultSrc = "http://127.0.0.1:" + PORT; // + "/";

  setIframeSrcs(defaultSrc);
})
</script>

</body>
</html>
